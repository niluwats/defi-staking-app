{"ast":null,"code":"import { SchedulerImplem } from '../implementations/SchedulerImplem.js';\n\nfunction buildNextTaskIndex(ordering) {\n  var numTasks = 0;\n  return {\n    clone: function clone() {\n      return buildNextTaskIndex(ordering);\n    },\n    nextTaskIndex: function nextTaskIndex(scheduledTasks) {\n      if (ordering.length <= numTasks) {\n        throw new Error(\"Invalid schedulerFor defined: too many tasks have been scheduled\");\n      }\n\n      var taskIndex = scheduledTasks.findIndex(function (t) {\n        return t.taskId === ordering[numTasks];\n      });\n\n      if (taskIndex === -1) {\n        throw new Error(\"Invalid schedulerFor defined: unable to find next task\");\n      }\n\n      ++numTasks;\n      return taskIndex;\n    }\n  };\n}\n\nexport function buildSchedulerFor(act, ordering) {\n  return new SchedulerImplem(act, buildNextTaskIndex(ordering));\n}","map":null,"metadata":{},"sourceType":"module"}